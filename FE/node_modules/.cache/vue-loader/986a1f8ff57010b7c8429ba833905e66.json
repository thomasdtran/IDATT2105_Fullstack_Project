{"remainingRequest":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue","mtime":1622666876909},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBjcmVhdGVIdHRwIGZyb20gIkAvc2VydmljZXMvaHR0cCI7CmltcG9ydCBSaXBwbGUgZnJvbSAnLi9SaXBwbGUudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaHR0cDogY3JlYXRlSHR0cCgpLAogICAgICAgICAgICByZXNlcnZhdGlvbnM6IFtdLAogICAgICAgICAgICBpc1NlYXJjaGluZzogZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIFJpcHBsZQogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgcmVsb2FkOiBCb29sZWFuCiAgICB9LAogICAgd2F0Y2g6ewogICAgICAgIHJlbG9hZDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5sb2FkKCk7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIC8qKgogICAgICAgICAqIEhlbnRlciB1dCBhbGxlIHJlc2VydmFzam9uZW5lIHRpbCBww6Vsb2dnZWRlIGJydWtlciBvZyB2aXNlciBkZW0KICAgICAgICAgKi8KICAgICAgICBhc3luYyBsb2FkKCl7CiAgICAgICAgICAgIGxldCB0aGlzVXNlcklkOwogICAgICAgICAgICB0aGlzLnJlc2VydmF0aW9ucyA9IFtdOwogICAgICAgICAgICB0aGlzLmlzU2VhcmNoaW5nID0gdHJ1ZTsKICAgICAgICAgICAgYXdhaXQgdGhpcy5odHRwLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaS92MS9zdWIiKQogICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpc1VzZXJJZCA9IHJlcy5kYXRhOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYXdhaXQgdGhpcy5odHRwLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaS92MS9yZXNlcnZhdGlvbnMvdXNlci8iK3RoaXNVc2VySWQpCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXJ2YXRpb25zLnB1c2goZWxlbWVudCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuaXNTZWFyY2hpbmcgPSBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgfSwKCiAgICAgICAgZGVsZXRlUmVzZXJ2YXRpb25Qcm9tcHQocmVzZXJ2YXRpb24pIHsKICAgICAgICAgICAgaWYgKGNvbmZpcm0oIkVyIGR1IHNpa2tlciBww6UgYXQgZHUgdmlsIHNsZXR0ZSByZXNlcnZhc2pvbmVuIGF2IHJvbSAiICsgcmVzZXJ2YXRpb24ucm9vbU5hbWUgKyAiPyIpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVJlc2VydmF0aW9uKHJlc2VydmF0aW9uLmlkKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkZWxldGVSZXNlcnZhdGlvbihpZCkgewogICAgICAgICAgICB0aGlzLmh0dHAuZGVsZXRlKHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCArICIvYXBpL3YxL3Jlc2VydmF0aW9ucy8iICsgaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIHRoaXMubG9hZCgpOwogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpewogICAgICAgIHRoaXMubG9hZCgpOyAgICAgICAgCiAgICB9Cn0K"},{"version":3,"sources":["/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue"],"names":[],"mappings":"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","file":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue","sourceRoot":"","sourcesContent":["<template>\n\n    <Ripple v-if=\"isSearching\"/>\n    <div id=\"container\" v-else>\n        <div id=\"bar\">\n            <div class=\"f\">\n                <p>Rom</p>\n            </div>\n            <div class=\"f\">\n                <p>Seksjoner</p>\n            </div>\n            <div class=\"f\">\n                <p>Dato</p>\n            </div>\n            <div class=\"f\">\n                <p>Tid</p>\n            </div>\n        </div>\n\n        <div v-for=\"r in reservations\" :key=\"r\" class=\"res\">\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.roomName}}</p>\n            </div>\n            <div id=\"rsections\" class=\"d\">\n                <p v-for=\"s in r.sections\" :key=\"s\" class=\"d\">{{s.name}}</p>\n            </div>\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.date}}</p>\n            </div>\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.startTime}} - {{r.endTime}}</p>\n            </div>\n            <div id=\"deleteReservation\" @click=\"deleteReservationPrompt(r)\">\n                <button class=\"btn\">X</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport createHttp from \"@/services/http\";\nimport Ripple from './Ripple.vue'\nexport default {\n    data(){\n        return {\n            http: createHttp(),\n            reservations: [],\n            isSearching: false,\n        }\n    },\n    components:{\n        Ripple\n    },\n    props: {\n        reload: Boolean\n    },\n    watch:{\n        reload: function(){\n            this.load();\n        }\n    },\n    methods:{\n        /**\n         * Henter ut alle reservasjonene til påloggede bruker og viser dem\n         */\n        async load(){\n            let thisUserId;\n            this.reservations = [];\n            this.isSearching = true;\n            await this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/sub\")\n            .then(res => {\n                thisUserId = res.data;\n            });\n            await this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/reservations/user/\"+thisUserId)\n            .then(res => {\n                res.data.forEach(element => {\n                    this.reservations.push(element);\n                });\n                this.isSearching = false\n            });\n            \n        },\n\n        deleteReservationPrompt(reservation) {\n            if (confirm(\"Er du sikker på at du vil slette reservasjonen av rom \" + reservation.roomName + \"?\")) {\n                this.deleteReservation(reservation.id)\n            }\n        },\n        deleteReservation(id) {\n            this.http.delete(process.env.VUE_APP_API_URL + \"/api/v1/reservations/\" + id).then(res => {\n                console.log(res)\n                this.load();\n            }).catch(err => {\n                console.log(err)\n            });\n        }\n    },\n    async mounted(){\n        this.load();        \n    }\n}\n</script>\n\n<style scoped>\n\n.lds-ripple {\n  margin-top: 12rem;\n}\n\n#bar{\n    display: flex;\n    flex-direction: row;\n    height: 3.5rem;\n    background-color: #f2f2f2;\n    border-radius: 20px 20px 0px 0px;\n}\n\n.f{\n    width: 21rem;\n    text-align: left;\n    padding-left: 1rem;\n    color: #898989;\n}\n\n.res{\n    display: flex;\n    flex-direction: row;\n    border-bottom:3px solid #f2f2f2;\n    border-radius: 1px;\n}\n\n.d{\n    padding-left: 1rem;\n    width: 25%;\n}\n\n.d p{\n    padding-left: 0;\n    width: 100%;\n}\n\n#deleteReservation {\n    float: right;\n    margin-right: 30px;\n    color: \t#B22222;\n}\n\n.btn {\n    background-color: #f44336;\n    padding: 8px 16px;\n    margin-top: 8px;\n}\n</style>"]}]}