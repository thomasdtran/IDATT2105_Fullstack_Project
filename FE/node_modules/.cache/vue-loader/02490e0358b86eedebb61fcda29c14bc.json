{"remainingRequest":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue?vue&type=style&index=0&id=c6825aba&scoped=true&lang=css","dependencies":[{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue","mtime":1622666876909},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1616796459000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoubGRzLXJpcHBsZSB7CiAgbWFyZ2luLXRvcDogMTJyZW07Cn0KCiNiYXJ7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgIGhlaWdodDogMy41cmVtOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjsKICAgIGJvcmRlci1yYWRpdXM6IDIwcHggMjBweCAwcHggMHB4Owp9CgouZnsKICAgIHdpZHRoOiAyMXJlbTsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBwYWRkaW5nLWxlZnQ6IDFyZW07CiAgICBjb2xvcjogIzg5ODk4OTsKfQoKLnJlc3sKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogcm93OwogICAgYm9yZGVyLWJvdHRvbTozcHggc29saWQgI2YyZjJmMjsKICAgIGJvcmRlci1yYWRpdXM6IDFweDsKfQoKLmR7CiAgICBwYWRkaW5nLWxlZnQ6IDFyZW07CiAgICB3aWR0aDogMjUlOwp9CgouZCBwewogICAgcGFkZGluZy1sZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7Cn0KCiNkZWxldGVSZXNlcnZhdGlvbiB7CiAgICBmbG9hdDogcmlnaHQ7CiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7CiAgICBjb2xvcjogCSNCMjIyMjI7Cn0KCi5idG4gewogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjsKICAgIHBhZGRpbmc6IDhweCAxNnB4OwogICAgbWFyZ2luLXRvcDogOHB4Owp9Cg=="},{"version":3,"sources":["/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue"],"names":[],"mappings":"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","file":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue","sourceRoot":"","sourcesContent":["<template>\n\n    <Ripple v-if=\"isSearching\"/>\n    <div id=\"container\" v-else>\n        <div id=\"bar\">\n            <div class=\"f\">\n                <p>Rom</p>\n            </div>\n            <div class=\"f\">\n                <p>Seksjoner</p>\n            </div>\n            <div class=\"f\">\n                <p>Dato</p>\n            </div>\n            <div class=\"f\">\n                <p>Tid</p>\n            </div>\n        </div>\n\n        <div v-for=\"r in reservations\" :key=\"r\" class=\"res\">\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.roomName}}</p>\n            </div>\n            <div id=\"rsections\" class=\"d\">\n                <p v-for=\"s in r.sections\" :key=\"s\" class=\"d\">{{s.name}}</p>\n            </div>\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.date}}</p>\n            </div>\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.startTime}} - {{r.endTime}}</p>\n            </div>\n            <div id=\"deleteReservation\" @click=\"deleteReservationPrompt(r)\">\n                <button class=\"btn\">X</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport createHttp from \"@/services/http\";\nimport Ripple from './Ripple.vue'\nexport default {\n    data(){\n        return {\n            http: createHttp(),\n            reservations: [],\n            isSearching: false,\n        }\n    },\n    components:{\n        Ripple\n    },\n    props: {\n        reload: Boolean\n    },\n    watch:{\n        reload: function(){\n            this.load();\n        }\n    },\n    methods:{\n        /**\n         * Henter ut alle reservasjonene til påloggede bruker og viser dem\n         */\n        async load(){\n            let thisUserId;\n            this.reservations = [];\n            this.isSearching = true;\n            await this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/sub\")\n            .then(res => {\n                thisUserId = res.data;\n            });\n            await this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/reservations/user/\"+thisUserId)\n            .then(res => {\n                res.data.forEach(element => {\n                    this.reservations.push(element);\n                });\n                this.isSearching = false\n            });\n            \n        },\n\n        deleteReservationPrompt(reservation) {\n            if (confirm(\"Er du sikker på at du vil slette reservasjonen av rom \" + reservation.roomName + \"?\")) {\n                this.deleteReservation(reservation.id)\n            }\n        },\n        deleteReservation(id) {\n            this.http.delete(process.env.VUE_APP_API_URL + \"/api/v1/reservations/\" + id).then(res => {\n                console.log(res)\n                this.load();\n            }).catch(err => {\n                console.log(err)\n            });\n        }\n    },\n    async mounted(){\n        this.load();        \n    }\n}\n</script>\n\n<style scoped>\n\n.lds-ripple {\n  margin-top: 12rem;\n}\n\n#bar{\n    display: flex;\n    flex-direction: row;\n    height: 3.5rem;\n    background-color: #f2f2f2;\n    border-radius: 20px 20px 0px 0px;\n}\n\n.f{\n    width: 21rem;\n    text-align: left;\n    padding-left: 1rem;\n    color: #898989;\n}\n\n.res{\n    display: flex;\n    flex-direction: row;\n    border-bottom:3px solid #f2f2f2;\n    border-radius: 1px;\n}\n\n.d{\n    padding-left: 1rem;\n    width: 25%;\n}\n\n.d p{\n    padding-left: 0;\n    width: 100%;\n}\n\n#deleteReservation {\n    float: right;\n    margin-right: 30px;\n    color: \t#B22222;\n}\n\n.btn {\n    background-color: #f44336;\n    padding: 8px 16px;\n    margin-top: 8px;\n}\n</style>"]}]}