{"remainingRequest":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue","mtime":1622666876909},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90aG9tYXN0cmFuL0RvY3VtZW50cy9GU19Qcm9qZWN0L2lkYXR0MjEwNS1wcm9qZWN0LUZFL2ZzX2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IGNyZWF0ZUh0dHAgZnJvbSAiQC9zZXJ2aWNlcy9odHRwIjsKaW1wb3J0IFJpcHBsZSBmcm9tICcuL1JpcHBsZS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGh0dHA6IGNyZWF0ZUh0dHAoKSwKICAgICAgcmVzZXJ2YXRpb25zOiBbXSwKICAgICAgaXNTZWFyY2hpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgUmlwcGxlOiBSaXBwbGUKICB9LAogIHByb3BzOiB7CiAgICByZWxvYWQ6IEJvb2xlYW4KICB9LAogIHdhdGNoOiB7CiAgICByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIEhlbnRlciB1dCBhbGxlIHJlc2VydmFzam9uZW5lIHRpbCBww6Vsb2dnZWRlIGJydWtlciBvZyB2aXNlciBkZW0KICAgICAqLwogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHRoaXNVc2VySWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMucmVzZXJ2YXRpb25zID0gW107CiAgICAgICAgICAgICAgICBfdGhpcy5pc1NlYXJjaGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5odHRwLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaS92MS9zdWIiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgdGhpc1VzZXJJZCA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmh0dHAuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCArICIvYXBpL3YxL3Jlc2VydmF0aW9ucy91c2VyLyIgKyB0aGlzVXNlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc2VydmF0aW9ucy5wdXNoKGVsZW1lbnQpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXMuaXNTZWFyY2hpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlUmVzZXJ2YXRpb25Qcm9tcHQ6IGZ1bmN0aW9uIGRlbGV0ZVJlc2VydmF0aW9uUHJvbXB0KHJlc2VydmF0aW9uKSB7CiAgICAgIGlmIChjb25maXJtKCJFciBkdSBzaWtrZXIgcMOlIGF0IGR1IHZpbCBzbGV0dGUgcmVzZXJ2YXNqb25lbiBhdiByb20gIiArIHJlc2VydmF0aW9uLnJvb21OYW1lICsgIj8iKSkgewogICAgICAgIHRoaXMuZGVsZXRlUmVzZXJ2YXRpb24ocmVzZXJ2YXRpb24uaWQpOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlUmVzZXJ2YXRpb246IGZ1bmN0aW9uIGRlbGV0ZVJlc2VydmF0aW9uKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5odHRwLmRlbGV0ZShwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaS92MS9yZXNlcnZhdGlvbnMvIiArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBfdGhpczIubG9hZCgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMzLmxvYWQoKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/MyReservations.vue"],"names":[],"mappings":";;;AAwCA,OAAO,UAAP,MAAuB,iBAAvB;AACA,OAAO,MAAP,MAAmB,cAAnB;AACA,eAAe;AACX,EAAA,IADW,kBACL;AACF,WAAO;AACH,MAAA,IAAI,EAAE,UAAU,EADb;AAEH,MAAA,YAAY,EAAE,EAFX;AAGH,MAAA,WAAW,EAAE;AAHV,KAAP;AAKH,GAPU;AAQX,EAAA,UAAU,EAAC;AACP,IAAA,MAAK,EAAL;AADO,GARA;AAWX,EAAA,KAAK,EAAE;AACH,IAAA,MAAM,EAAE;AADL,GAXI;AAcX,EAAA,KAAK,EAAC;AACF,IAAA,MAAM,EAAE,kBAAU;AACd,WAAK,IAAL;AACJ;AAHE,GAdK;AAmBX,EAAA,OAAO,EAAC;AACJ;AACC;AACA;AACK,IAAA,IAJF,kBAIQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAER,gBAAA,KAAI,CAAC,YAAL,GAAoB,EAApB;AACA,gBAAA,KAAI,CAAC,WAAL,GAAmB,IAAnB;AAHQ;AAAA,uBAIF,KAAI,CAAC,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,aAA5C,EACL,IADK,CACA,UAAA,GAAE,EAAK;AACT,kBAAA,UAAS,GAAI,GAAG,CAAC,IAAjB;AACH,iBAHK,CAJE;;AAAA;AAAA;AAAA,uBAQF,KAAI,CAAC,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,4BAA9B,GAA2D,UAAzE,EACL,IADK,CACA,UAAA,GAAE,EAAK;AACT,kBAAA,GAAG,CAAC,IAAJ,CAAS,OAAT,CAAiB,UAAA,OAAM,EAAK;AACxB,oBAAA,KAAI,CAAC,YAAL,CAAkB,IAAlB,CAAuB,OAAvB;AACH,mBAFD;AAGA,kBAAA,KAAI,CAAC,WAAL,GAAmB,KAAnB;AACH,iBANK,CARE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBX,KApBG;AAsBJ,IAAA,uBAtBI,mCAsBoB,WAtBpB,EAsBiC;AACjC,UAAI,OAAO,CAAC,2DAA2D,WAAW,CAAC,QAAvE,GAAkF,GAAnF,CAAX,EAAoG;AAChG,aAAK,iBAAL,CAAuB,WAAW,CAAC,EAAnC;AACJ;AACH,KA1BG;AA2BJ,IAAA,iBA3BI,6BA2Bc,EA3Bd,EA2BkB;AAAA;;AAClB,WAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,uBAA9B,GAAwD,EAAzE,EAA6E,IAA7E,CAAkF,UAAA,GAAE,EAAK;AACrF,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AACA,QAAA,MAAI,CAAC,IAAL;AACH,OAHD,EAGG,KAHH,CAGS,UAAA,GAAE,EAAK;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACH,OALD;AAMJ;AAlCI,GAnBG;AAuDL,EAAA,OAvDK,qBAuDI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,cAAA,MAAI,CAAC,IAAL;;AADW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEf;AAzDW,CAAf","sourcesContent":["<template>\n\n    <Ripple v-if=\"isSearching\"/>\n    <div id=\"container\" v-else>\n        <div id=\"bar\">\n            <div class=\"f\">\n                <p>Rom</p>\n            </div>\n            <div class=\"f\">\n                <p>Seksjoner</p>\n            </div>\n            <div class=\"f\">\n                <p>Dato</p>\n            </div>\n            <div class=\"f\">\n                <p>Tid</p>\n            </div>\n        </div>\n\n        <div v-for=\"r in reservations\" :key=\"r\" class=\"res\">\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.roomName}}</p>\n            </div>\n            <div id=\"rsections\" class=\"d\">\n                <p v-for=\"s in r.sections\" :key=\"s\" class=\"d\">{{s.name}}</p>\n            </div>\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.date}}</p>\n            </div>\n            <div id=\"rname\" class=\"d\">\n                <p>{{r.startTime}} - {{r.endTime}}</p>\n            </div>\n            <div id=\"deleteReservation\" @click=\"deleteReservationPrompt(r)\">\n                <button class=\"btn\">X</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport createHttp from \"@/services/http\";\nimport Ripple from './Ripple.vue'\nexport default {\n    data(){\n        return {\n            http: createHttp(),\n            reservations: [],\n            isSearching: false,\n        }\n    },\n    components:{\n        Ripple\n    },\n    props: {\n        reload: Boolean\n    },\n    watch:{\n        reload: function(){\n            this.load();\n        }\n    },\n    methods:{\n        /**\n         * Henter ut alle reservasjonene til påloggede bruker og viser dem\n         */\n        async load(){\n            let thisUserId;\n            this.reservations = [];\n            this.isSearching = true;\n            await this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/sub\")\n            .then(res => {\n                thisUserId = res.data;\n            });\n            await this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/reservations/user/\"+thisUserId)\n            .then(res => {\n                res.data.forEach(element => {\n                    this.reservations.push(element);\n                });\n                this.isSearching = false\n            });\n            \n        },\n\n        deleteReservationPrompt(reservation) {\n            if (confirm(\"Er du sikker på at du vil slette reservasjonen av rom \" + reservation.roomName + \"?\")) {\n                this.deleteReservation(reservation.id)\n            }\n        },\n        deleteReservation(id) {\n            this.http.delete(process.env.VUE_APP_API_URL + \"/api/v1/reservations/\" + id).then(res => {\n                console.log(res)\n                this.load();\n            }).catch(err => {\n                console.log(err)\n            });\n        }\n    },\n    async mounted(){\n        this.load();        \n    }\n}\n</script>\n\n<style scoped>\n\n.lds-ripple {\n  margin-top: 12rem;\n}\n\n#bar{\n    display: flex;\n    flex-direction: row;\n    height: 3.5rem;\n    background-color: #f2f2f2;\n    border-radius: 20px 20px 0px 0px;\n}\n\n.f{\n    width: 21rem;\n    text-align: left;\n    padding-left: 1rem;\n    color: #898989;\n}\n\n.res{\n    display: flex;\n    flex-direction: row;\n    border-bottom:3px solid #f2f2f2;\n    border-radius: 1px;\n}\n\n.d{\n    padding-left: 1rem;\n    width: 25%;\n}\n\n.d p{\n    padding-left: 0;\n    width: 100%;\n}\n\n#deleteReservation {\n    float: right;\n    margin-right: 30px;\n    color: \t#B22222;\n}\n\n.btn {\n    background-color: #f44336;\n    padding: 8px 16px;\n    margin-top: 8px;\n}\n</style>"],"sourceRoot":""}]}