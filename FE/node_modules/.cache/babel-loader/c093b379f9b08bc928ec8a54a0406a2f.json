{"remainingRequest":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/store/index.js","dependencies":[{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/store/index.js","mtime":1621617515717},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90aG9tYXN0cmFuL0RvY3VtZW50cy9GU19Qcm9qZWN0L2lkYXR0MjEwNS1wcm9qZWN0LUZFL2ZzX2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgY3JlYXRlSHR0cCBmcm9tICJAL3NlcnZpY2VzL2h0dHAiOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBpc0J1c3k6IGZhbHNlLAogICAgZXJyb3I6ICIiCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEJ1c3k6IGZ1bmN0aW9uIHNldEJ1c3koc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmlzQnVzeSA9IHRydWU7CiAgICB9LAogICAgY2xlYXJCdXN5OiBmdW5jdGlvbiBjbGVhckJ1c3koc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmlzQnVzeSA9IGZhbHNlOwogICAgfSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgZXJyb3IpIHsKICAgICAgcmV0dXJuIHN0YXRlLmVycm9yID0gZXJyb3I7CiAgICB9LAogICAgY2xlYXJFcnJvcjogZnVuY3Rpb24gY2xlYXJFcnJvcihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZXJyb3IgPSAiIjsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpICE9IG51bGw7CiAgICB9LAogICAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKCkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpOwogICAgfSwKICAgIGdldFJvbGU6IGZ1bmN0aW9uIGdldFJvbGUoKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncm9sZScpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCBtb2RlbCkgewogICAgICAgIHZhciBjb21taXQsIGh0dHA7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0QnVzeSIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgICAgICAgICAgICBodHRwID0gY3JlYXRlSHR0cChmYWxzZSk7IC8vIHVuc2VjdXJlZAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGh0dHAucG9zdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaS92MS9sb2dpbiIsIG1vZGVsKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0LmhlYWRlcnNbImF1dGhvcml6YXRpb24iXTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2p3dCcsIHRva2VuKTsKICAgICAgICAgICAgICAgICAgdmFyIGh0dHBTZWN1cmUgPSBjcmVhdGVIdHRwKCk7IC8vc2VjdXJlCgogICAgICAgICAgICAgICAgICAvL3NlY3VyZQogICAgICAgICAgICAgICAgICBodHRwU2VjdXJlLmdldChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaS92MS9yb2xlIikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCByZXN1bHQuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBpbiBwb3N0Iik7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJDQVRDSCEiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCAiRmFpbGVkIHRvIGxvZ2luIik7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBjb21taXQoImNsZWFyQnVzeSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxNCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDksIDE0LCAxN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9naW4oX3gsIF94MikgewogICAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luOwogICAgfSgpLAogICAgYWRtaW5Mb2dpbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2FkbWluTG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYyLCBtb2RlbCkgewogICAgICAgIHZhciBjb21taXQsIGh0dHA7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0QnVzeSIpOwogICAgICAgICAgICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgICAgICAgICAgICBodHRwID0gY3JlYXRlSHR0cChmYWxzZSk7IC8vIHVuc2VjdXJlZAoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBodHRwLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgIi9hcGkvdjEvbG9naW4iLCBtb2RlbCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdC5oZWFkZXJzWyJhdXRob3JpemF0aW9uIl07CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QnLCB0b2tlbik7CiAgICAgICAgICAgICAgICAgIHZhciBodHRwU2VjdXJlID0gY3JlYXRlSHR0cCgpOyAvL3NlY3VyZQoKICAgICAgICAgICAgICAgICAgLy9zZWN1cmUKICAgICAgICAgICAgICAgICAgaHR0cFNlY3VyZS5nZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgIi9hcGkvdjEvcm9sZSIpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyb2xlJywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvYWRtaW4iKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciBpbiBwb3N0Iik7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQ0FUQ0ghIik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDApOwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXRFcnJvciIsICJGYWlsZWQgdG8gbG9naW4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBjb21taXQoImNsZWFyQnVzeSIpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTQpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDksIDE0LCAxN11dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYWRtaW5Mb2dpbihfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfYWRtaW5Mb2dpbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYWRtaW5Mb2dpbjsKICAgIH0oKSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnand0Jyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyb2xlJyk7CiAgICAgIHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0sCiAgICBhZG1pbkxvZ291dDogZnVuY3Rpb24gYWRtaW5Mb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdqd3QnKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JvbGUnKTsKICAgICAgcm91dGVyLnB1c2goIi9sb2dpbi9hZG1pbiIpOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHN0b3JlOw=="},{"version":3,"sources":["/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/store/index.js"],"names":["createStore","createHttp","router","store","state","isBusy","error","mutations","setBusy","clearBusy","setError","clearError","getters","isAuthenticated","localStorage","getItem","getToken","getRole","actions","login","model","commit","http","post","process","env","VUE_APP_API_URL","then","result","token","headers","setItem","httpSecure","get","data","push","catch","err","console","log","adminLogin","logout","removeItem","adminLogout"],"mappings":"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","sourcesContent":["import {createStore} from 'vuex'\nimport createHttp from \"@/services/http\";\nimport router from \"@/router\";\n\nconst store = createStore({\n  state: {\n    isBusy: false,\n    error: \"\",\n  },\n  mutations: {\n    setBusy: (state) => state.isBusy = true,\n    clearBusy: (state) => state.isBusy = false,\n    setError: (state, error) => state.error = error,\n    clearError: (state) => state.error = \"\",\n  },\n  getters: {\n    isAuthenticated: () => localStorage.getItem('jwt') != null,\n    getToken: () => localStorage.getItem('jwt'),\n    getRole: () => localStorage.getItem('role')\n  },\n  actions: {\n    login: async ({ commit }, model) => {\n      try {\n        commit(\"setBusy\");\n        commit(\"clearError\");\n        const http = createHttp(false); // unsecured\n        await http.post(process.env.VUE_APP_API_URL + \"/api/v1/login\", model)\n            .then( result => {\n              const token = result.headers[\"authorization\"];\n              localStorage.setItem('jwt', token);\n\n              const httpSecure = createHttp(); //secure\n              httpSecure.get(process.env.VUE_APP_API_URL + \"/api/v1/role\")\n              .then(result =>{\n                localStorage.setItem('role', result.data);\n                router.push(\"/\");\n              })\n            })\n            .catch( err => {\n              console.log(\"error in post\");\n              console.log(err);\n            });\n      } catch (err){\n        console.log(\"CATCH!\");\n        console.log(err);\n        commit(\"setError\", \"Failed to login\");\n      } finally {\n        commit(\"clearBusy\");\n      }\n    },\n    adminLogin:  async ({ commit }, model) => {\n      try {\n        commit(\"setBusy\");\n        commit(\"clearError\");\n        const http = createHttp(false); // unsecured\n        await http.post(process.env.VUE_APP_API_URL + \"/api/v1/login\", model)\n            .then( result => {\n              const token = result.headers[\"authorization\"];\n              localStorage.setItem('jwt', token);\n              const httpSecure = createHttp(); //secure\n              httpSecure.get(process.env.VUE_APP_API_URL + \"/api/v1/role\")\n              .then(result =>{\n                localStorage.setItem('role', result.data);\n                router.push(\"/admin\");\n              })\n            })\n            .catch( err => {\n              console.log(\"error in post\");\n              console.log(err);\n            });\n      } catch (err){\n        console.log(\"CATCH!\");\n        console.log(err);\n        commit(\"setError\", \"Failed to login\");\n      } finally {\n        commit(\"clearBusy\");\n      }\n    },\n    logout: () => {\n      localStorage.removeItem('jwt');\n      localStorage.removeItem('role');\n      router.push(\"/login\");\n    },\n    adminLogout: () => {\n      localStorage.removeItem('jwt');\n      localStorage.removeItem('role');\n      router.push(\"/login/admin\");\n    }\n  }\n})\n\nexport default store\n"]}]}