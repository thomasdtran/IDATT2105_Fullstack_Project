{"remainingRequest":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/Room.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/Room.vue","mtime":1622667031378},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBtb2RhbCBmcm9tICcuL01vZGFsLnZ1ZSc7CmltcG9ydCBTZWN0aW9uIGZyb20gJy4vU2VjdGlvbi52dWUnOwppbXBvcnQgY3JlYXRlSHR0cCBmcm9tICJAL3NlcnZpY2VzL2h0dHAiOwppbXBvcnQgeyBjcmVhdGVUb2FzdCB9IGZyb20gJ21vc2hhLXZ1ZS10b2FzdGlmeSc7CmltcG9ydCAnbW9zaGEtdnVlLXRvYXN0aWZ5L2Rpc3Qvc3R5bGUuY3NzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIG1vZGFsOiBtb2RhbCwKICAgIFNlY3Rpb246IFNlY3Rpb24KICB9LAogIHByb3BzOiB7CiAgICByb29tOiBPYmplY3QsCiAgICBzZWFyY2hQYXJhbWV0ZXJzOiBPYmplY3QKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0Rpc2FibGVkOiBmdW5jdGlvbiBpc0Rpc2FibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGVTZWN0aW9ucyA8IHRoaXMucm9vbS5ub09mU2VjdGlvbnM7CiAgICB9LAogICAgaXNEaXNhYmxlZENvdW50ZXI6IGZ1bmN0aW9uIGlzRGlzYWJsZWRDb3VudGVyKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFNlY3Rpb25Db3VudGVyIDwgMTsKICAgIH0sCiAgICBhdmFpbGFibGVTZWN0aW9uczogZnVuY3Rpb24gYXZhaWxhYmxlU2VjdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLnJvb20uc2VjdGlvbnMubGVuZ3RoOwogICAgfSwKICAgIG5vU2VjdGlvbnM6IGZ1bmN0aW9uIG5vU2VjdGlvbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZVNlY3Rpb25zID09IDA7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaHR0cDogY3JlYXRlSHR0cCgpLAogICAgICBpc1Nob3dpbmdNb2RhbDogZmFsc2UsCiAgICAgIHNlbGVjdGVkU2VjdGlvbkNvdW50ZXI6IDAsCiAgICAgIHN1YmplY3Q6IDAsCiAgICAgIHNlY3Rpb25zOiB0aGlzLnJvb20uc2VjdGlvbnMsCiAgICAgIGlzU2VsZWN0ZWRTZWN0aW9uOiBbXSwKICAgICAgc2VsZWN0ZWRTZWN0aW9uczogW10sCiAgICAgIHJlc2V0Q2hlY2tNYXJrOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAvKgogICAgV2F0Y2ggd2hlbiB0aGUgYXJyYXkgd2l0aCBzZWN0aW9ucyBjaGFuZ2UgdG8gdXBkYXRlCiAgICAnaXNTZWxlY3RlZFNlY3Rpb24nLiAnaXNTZWxlY3RlZFNlY3Rpb24nIGlzIGFuIGFycmF5IHdoZXJlIGVhY2gKICAgIGluZGV4IHJlcHJlc2VudHMgdGhlIGluZGV4IGluIHRoZSAnc2VjdGlvbnMnIGFycmF5LCB0byBrbm93IGlmCiAgICBhIGNlcnRhaW4gc2VjdGlvbiBpcyBzZWxlY3RlZCBvciBub3QuIAogICAgKi8KICAgIHNlY3Rpb25zOiBmdW5jdGlvbiBzZWN0aW9ucygpIHsKICAgICAgdGhpcy5pc1NlbGVjdGVkU2VjdGlvbiA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgdGhpcy5pc1NlbGVjdGVkU2VjdGlvbi5wdXNoKGZhbHNlKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2hvd01vZGFsOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7CiAgICAgIHRoaXMuaXNTaG93aW5nTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuaXNTaG93aW5nTW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldENoZWNrTWFyayA9ICF0aGlzLnJlc2V0Q2hlY2tNYXJrOwogICAgfSwKICAgIHNlbGVjdFNlY3Rpb246IGZ1bmN0aW9uIHNlbGVjdFNlY3Rpb24oKSB7CiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSBhcmdzWzBdLAogICAgICAgICAgYm9vbCA9IGFyZ3NbMV07CiAgICAgIHRoaXMuaXNTZWxlY3RlZFNlY3Rpb25bcG9zXSA9IGJvb2w7CgogICAgICBpZiAoYm9vbCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRTZWN0aW9uQ291bnRlcisrOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRTZWN0aW9uQ291bnRlciAtPSAxOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICogcmVmcmVzaCgpIGlzIHVzZWQgdG8gdHJpZ2dlciB0aGUgZ2V0Um9vbXMoKS4gCiAgICAgKiBVc2VkIGFmdGVyIGJvb2tpbmcgYSByb29tL3NlY3Rpb24sIHRvIHJlZnJlc2ggCiAgICAgKiB0aGUgY3VyZW50IHJvb21zIGFmdGVyIGNoYW5nZS4KICAgICAqLwogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy4kZW1pdCgicmVmcmVzaCIpOwogICAgfSwKICAgIGJvb2tFdmVyeXRoaW5nOiBmdW5jdGlvbiBib29rRXZlcnl0aGluZygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBtZXNzYWdlID0gIkRhdG86ICIgKyB0aGlzLnNlYXJjaFBhcmFtZXRlcnMuZGF0ZSArICJcbiIgKyAiU3RhcnQ6IEtsLiAiICsgdGhpcy5zZWFyY2hQYXJhbWV0ZXJzLnN0YXJ0VGltZSArICJcbiIgKyAiU2x1dHQ6IEtsLiAiICsgdGhpcy5zZWFyY2hQYXJhbWV0ZXJzLmVuZFRpbWUgKyAiXG4iICsgIlxuIjsKICAgICAgbWVzc2FnZSArPSAiQmVrcmVmdCByZXNlcnZhc2pvbiBmb3IgaGVsZSByb206ICIgKyB0aGlzLnJvb20ubmFtZTsgLy9SZXF1ZXN0cyB0aGUgdXNlciBJRCBiZWZvcmUgY3JlYXRpbmcgYSByZXNlcnZhdGlvbgoKICAgICAgaWYgKGNvbmZpcm0obWVzc2FnZSkpIHsKICAgICAgICB0aGlzLmh0dHAuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCArICIvYXBpL3YxL3N1YiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpcy5zdWJqZWN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIHZhciByZXNlcnZhdGlvbiA9IHsKICAgICAgICAgICAgInN0YXJ0VGltZSI6IF90aGlzLnNlYXJjaFBhcmFtZXRlcnMuc3RhcnRUaW1lLAogICAgICAgICAgICAiZW5kVGltZSI6IF90aGlzLnNlYXJjaFBhcmFtZXRlcnMuZW5kVGltZSwKICAgICAgICAgICAgImRhdGUiOiBfdGhpcy5zZWFyY2hQYXJhbWV0ZXJzLmRhdGUsCiAgICAgICAgICAgICJzZWN0aW9ucyI6IF90aGlzLnJvb20uc2VjdGlvbnMsCiAgICAgICAgICAgICJyb29tTmFtZSI6IF90aGlzLnJvb20ubmFtZQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpcy5odHRwLnBvc3QocHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfVVJMICsgIi9hcGkvdjEvcmVzZXJ2YXRpb25zLyIgKyBfdGhpcy5zdWJqZWN0LCByZXNlcnZhdGlvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgY3JlYXRlVG9hc3QoJ1Jlc2VydmVydCEnLCB7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMucmVmcmVzaCgpOwoKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBjcmVhdGVUb2FzdCgnT29vcHMuLiBOb2UgZ2lrayBnYWx0JywgewogICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMucmVmcmVzaCgpOwoKICAgICAgICAgICAgcmV0dXJuIGVycjsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYm9va1NlY3Rpb246IGZ1bmN0aW9uIGJvb2tTZWN0aW9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2VsZWN0ZWRTZWN0aW9ucyA9IFtdOwoKICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuaXNTZWxlY3RlZFNlY3Rpb24ubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgdmFyIGJvb2wgPSB0aGlzLmlzU2VsZWN0ZWRTZWN0aW9uW2luZGV4XTsKCiAgICAgICAgaWYgKGJvb2wpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTZWN0aW9ucy5wdXNoKHRoaXMuc2VjdGlvbnNbaW5kZXhdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBsaXN0ZWRTZWN0aW9ucyA9ICJEYXRvOiAiICsgdGhpcy5zZWFyY2hQYXJhbWV0ZXJzLmRhdGUgKyAiXG4iICsgIlN0YXJ0OiBLbC4gIiArIHRoaXMuc2VhcmNoUGFyYW1ldGVycy5zdGFydFRpbWUgKyAiXG4iICsgIlNsdXR0OiBLbC4gIiArIHRoaXMuc2VhcmNoUGFyYW1ldGVycy5lbmRUaW1lICsgIlxuIiArICJcbiI7CiAgICAgIGxpc3RlZFNlY3Rpb25zICs9ICJCZWtyZWZ0IHJlc2VydmFzam9uIGF2IGbDuGxnZW5kZSBzZWtzam9uZXI6XG4iOwoKICAgICAgZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgdGhpcy5zZWxlY3RlZFNlY3Rpb25zLmxlbmd0aDsgX2luZGV4KyspIHsKICAgICAgICB2YXIgc2VjdGlvbiA9IHRoaXMuc2VsZWN0ZWRTZWN0aW9uc1tfaW5kZXhdOwogICAgICAgIGxpc3RlZFNlY3Rpb25zICs9ICLigKIgIiArIHNlY3Rpb24ubmFtZSArICJcbiI7CiAgICAgIH0KCiAgICAgIGlmIChjb25maXJtKGxpc3RlZFNlY3Rpb25zKSkgewogICAgICAgIC8vUmVxdWVzdHMgdGhlIHVzZXIgSUQgYmVmb3JlIGNyZWF0aW5nIGEgcmVzZXJ2YXRpb24KICAgICAgICB0aGlzLmh0dHAuZ2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCArICIvYXBpL3YxL3N1YiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuc3ViamVjdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB2YXIgcmVzZXJ2YXRpb24gPSB7CiAgICAgICAgICAgICJzdGFydFRpbWUiOiBfdGhpczIuc2VhcmNoUGFyYW1ldGVycy5zdGFydFRpbWUsCiAgICAgICAgICAgICJlbmRUaW1lIjogX3RoaXMyLnNlYXJjaFBhcmFtZXRlcnMuZW5kVGltZSwKICAgICAgICAgICAgImRhdGUiOiBfdGhpczIuc2VhcmNoUGFyYW1ldGVycy5kYXRlLAogICAgICAgICAgICAic2VjdGlvbnMiOiBfdGhpczIuc2VsZWN0ZWRTZWN0aW9ucywKICAgICAgICAgICAgInJvb21OYW1lIjogX3RoaXMyLnJvb20ubmFtZQogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczIuaHR0cC5wb3N0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCArICIvYXBpL3YxL3Jlc2VydmF0aW9ucy8iICsgX3RoaXMyLnN1YmplY3QsIHJlc2VydmF0aW9uKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczIuY2xvc2VNb2RhbCgpOwoKICAgICAgICAgICAgX3RoaXMyLnJlZnJlc2goKTsKCiAgICAgICAgICAgIGNyZWF0ZVRvYXN0KCdSZXNlcnZlcnQhJywgewogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBjcmVhdGVUb2FzdCgnT29vcHMuLiBOb2UgZ2lrayBnYWx0JywgewogICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMyLmNsb3NlTW9kYWwoKTsKCiAgICAgICAgICAgIF90aGlzMi5yZWZyZXNoKCk7CgogICAgICAgICAgICByZXR1cm4gZXJyOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/thomastran/Documents/FS_Project/idatt2105-project-FE/fs_frontend/src/components/Room.vue"],"names":[],"mappings":";AA4CA,OAAO,KAAP,MAAkB,aAAlB;AACA,OAAO,OAAP,MAAoB,eAApB;AACA,OAAO,UAAP,MAAuB,iBAAvB;AACA,SAAS,WAAT,QAA4B,oBAA5B;AACA,OAAO,mCAAP;AAEA,eAAe;AACX,EAAA,UAAU,EAAC;AACP,IAAA,KAAK,EAAL,KADO;AAEP,IAAA,OAAM,EAAN;AAFO,GADA;AAKX,EAAA,KAAK,EAAC;AACF,IAAA,IAAI,EAAE,MADJ;AAEF,IAAA,gBAAgB,EAAE;AAFhB,GALK;AASX,EAAA,QAAQ,EAAC;AACL,IAAA,UADK,wBACO;AACR,aAAO,KAAK,iBAAL,GAAyB,KAAK,IAAL,CAAU,YAA1C;AACH,KAHI;AAIL,IAAA,iBAJK,+BAIc;AACf,aAAO,KAAK,sBAAL,GAA8B,CAArC;AACH,KANI;AAOL,IAAA,iBAPK,+BAOc;AACf,aAAO,KAAK,IAAL,CAAU,QAAV,CAAmB,MAA1B;AACH,KATI;AAUL,IAAA,UAVK,wBAUO;AACR,aAAO,KAAK,iBAAL,IAA0B,CAAjC;AACJ;AAZK,GATE;AAuBX,EAAA,IAvBW,kBAuBL;AACF,WAAM;AACF,MAAA,IAAI,EAAE,UAAU,EADd;AAEF,MAAA,cAAc,EAAC,KAFb;AAGF,MAAA,sBAAsB,EAAC,CAHrB;AAIF,MAAA,OAAO,EAAC,CAJN;AAKF,MAAA,QAAQ,EAAC,KAAK,IAAL,CAAU,QALjB;AAMF,MAAA,iBAAiB,EAAC,EANhB;AAOF,MAAA,gBAAgB,EAAC,EAPf;AAQF,MAAA,cAAc,EAAC;AARb,KAAN;AAUH,GAlCU;AAmCX,EAAA,KAAK,EAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,QAAQ,EAAE,oBAAU;AAChB,WAAK,iBAAL,GAAyB,EAAzB;;AACA,WAAK,IAAI,KAAI,GAAI,CAAjB,EAAoB,KAAI,GAAI,KAAK,QAAL,CAAc,MAA1C,EAAkD,KAAK,EAAvD,EAA2D;AACvD,aAAK,iBAAL,CAAuB,IAAvB,CAA4B,KAA5B;AACJ;AACJ;AAZE,GAnCK;AAiDX,EAAA,OAAO,EAAC;AACJ,IAAA,SADI,uBACO;AACP,WAAK,cAAL,GAAsB,IAAtB;AACH,KAHG;AAIJ,IAAA,UAJI,wBAIQ;AACR,WAAK,cAAL,GAAsB,KAAtB;AACA,WAAK,cAAL,GAAsB,CAAC,KAAK,cAA5B;AACH,KAPG;AAQJ,IAAA,aARI,2BAQkB;AAAA,wCAAL,IAAK;AAAL,QAAA,IAAK;AAAA;;AAClB,UAAO,GAAP,GAAoB,IAApB;AAAA,UAAY,IAAZ,GAAoB,IAApB;AACA,WAAK,iBAAL,CAAuB,GAAvB,IAA8B,IAA9B;;AACA,UAAG,IAAH,EAAQ;AACJ,aAAK,sBAAL;AACH,OAFD,MAEK;AACD,aAAK,sBAAL,IAA+B,CAA/B;AACJ;AACH,KAhBG;;AAiBJ;AACC;AACA;AACA;AACA;AACD,IAAA,OAtBI,qBAsBK;AACL,WAAK,KAAL,CAAW,SAAX;AACH,KAxBG;AAyBJ,IAAA,cAzBI,4BAyBY;AAAA;;AACZ,UAAI,OAAM,GAAI,WAAW,KAAK,gBAAL,CAAsB,IAAjC,GAAwC,IAAxC,GACZ,aADY,GACI,KAAK,gBAAL,CAAsB,SAD1B,GACsC,IADtC,GAEZ,aAFY,GAEI,KAAK,gBAAL,CAAsB,OAF1B,GAEoC,IAFpC,GAE2C,IAFzD;AAGA,MAAA,OAAM,IAAK,uCAAuC,KAAK,IAAL,CAAU,IAA5D,CAJY,CAMZ;;AACA,UAAG,OAAO,CAAC,OAAD,CAAV,EAAoB;AAChB,aAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,aAA5C,EACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,UAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACA,cAAI,WAAU,GAAI;AACd,yBAAY,KAAI,CAAC,gBAAL,CAAsB,SADpB;AAEd,uBAAU,KAAI,CAAC,gBAAL,CAAsB,OAFlB;AAGd,oBAAO,KAAI,CAAC,gBAAL,CAAsB,IAHf;AAId,wBAAW,KAAI,CAAC,IAAL,CAAU,QAJP;AAKd,wBAAY,KAAI,CAAC,IAAL,CAAU;AALR,WAAlB;;AAOA,UAAA,KAAI,CAAC,IAAL,CAAU,IAAV,CAAe,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,uBAA9B,GAAwD,KAAI,CAAC,OAA5E,EAAqF,WAArF,EACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,YAAA,WAAW,CAAC,YAAD,EAAc;AAAC,cAAA,IAAI,EAAC;AAAN,aAAd,CAAX;;AACA,YAAA,KAAI,CAAC,OAAL;;AACA,mBAAO,QAAP;AACH,WALD,EAMC,KAND,CAMO,UAAA,GAAE,EAAK;AACV,YAAA,WAAW,CAAC,uBAAD,EAAyB;AAAC,cAAA,IAAI,EAAC;AAAN,aAAzB,CAAX;;AACA,YAAA,KAAI,CAAC,OAAL;;AACA,mBAAO,GAAP;AACH,WAVD;AAWH,SArBD;AAsBJ;AACH,KAxDG;AAyDJ,IAAA,WAzDI,yBAyDS;AAAA;;AACT,WAAK,gBAAL,GAAwB,EAAxB;;AACA,WAAK,IAAI,KAAI,GAAI,CAAjB,EAAoB,KAAI,GAAI,KAAK,iBAAL,CAAuB,MAAnD,EAA2D,KAAK,EAAhE,EAAoE;AAChE,YAAM,IAAG,GAAI,KAAK,iBAAL,CAAuB,KAAvB,CAAb;;AAEA,YAAG,IAAH,EAAQ;AACJ,eAAK,gBAAL,CAAsB,IAAtB,CAA2B,KAAK,QAAL,CAAc,KAAd,CAA3B;AACJ;AACJ;;AAEA,UAAI,cAAa,GAAI,WAAW,KAAK,gBAAL,CAAsB,IAAjC,GAAwC,IAAxC,GACnB,aADmB,GACH,KAAK,gBAAL,CAAsB,SADnB,GAC+B,IAD/B,GAEnB,aAFmB,GAEH,KAAK,gBAAL,CAAsB,OAFnB,GAE6B,IAF7B,GAEoC,IAFzD;AAGA,MAAA,cAAa,IAAK,8CAAlB;;AAEA,WAAK,IAAI,MAAI,GAAI,CAAjB,EAAoB,MAAI,GAAI,KAAK,gBAAL,CAAsB,MAAlD,EAA0D,MAAK,EAA/D,EAAmE;AAC/D,YAAM,OAAM,GAAI,KAAK,gBAAL,CAAsB,MAAtB,CAAhB;AACA,QAAA,cAAa,IAAK,OAAO,OAAO,CAAC,IAAf,GAAsB,IAAxC;AACJ;;AAGA,UAAG,OAAO,CAAC,cAAD,CAAV,EAA2B;AACvB;AACA,aAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,aAA5C,EACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,UAAA,MAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACA,cAAI,WAAU,GAAI;AACd,yBAAY,MAAI,CAAC,gBAAL,CAAsB,SADpB;AAEd,uBAAU,MAAI,CAAC,gBAAL,CAAsB,OAFlB;AAGd,oBAAO,MAAI,CAAC,gBAAL,CAAsB,IAHf;AAId,wBAAW,MAAI,CAAC,gBAJF;AAKd,wBAAY,MAAI,CAAC,IAAL,CAAU;AALR,WAAlB;;AAOA,UAAA,MAAI,CAAC,IAAL,CAAU,IAAV,CAAe,OAAO,CAAC,GAAR,CAAY,eAAZ,GAA8B,uBAA9B,GAAwD,MAAI,CAAC,OAA5E,EAAqF,WAArF,EACC,IADD,CACM,UAAA,QAAO,EAAK;AACd,YAAA,MAAI,CAAC,UAAL;;AACA,YAAA,MAAI,CAAC,OAAL;;AACA,YAAA,WAAW,CAAC,YAAD,EAAc;AAAC,cAAA,IAAI,EAAC;AAAN,aAAd,CAAX;AACA,mBAAO,QAAP;AACH,WAND,EAOC,KAPD,CAOO,UAAA,GAAE,EAAK;AACX,YAAA,WAAW,CAAC,uBAAD,EAAyB;AAAC,cAAA,IAAI,EAAC;AAAN,aAAzB,CAAX;;AACA,YAAA,MAAI,CAAC,UAAL;;AACA,YAAA,MAAI,CAAC,OAAL;;AACA,mBAAO,GAAP;AACF,WAZD;AAaH,SAvBD;AAwBJ;AACH;AAzGG;AAjDG,CAAf","sourcesContent":["\n<!--Each room is represented by a row and in a table\nhas it own set with sections, as well as a modal window to display \nthese sections\n -->\n<template>\n    <div id=\"roomContainer\">\n        <div class=\"fields\" id=\"roomName\">\n            <p>{{room.name}}</p>\n        </div>\n        <div class=\"fields\" id=\"availablity\">\n            <p>{{availableSections}} / {{room.noOfSections}}</p>\n            <div class=\"circle\" :class=\"{noneAvailable: noSections}\"></div>\n        </div>\n        <button class=\"btn bookBtn\" :class=\"{cantBook: isDisabled}\" :disabled=\"isDisabled\" @click=\"bookEverything\">Reserver alt</button>\n        <button class=\"btn\" id=\"sectionBtn\" @click=\"showModal\" :class=\"{cantBook: noSections}\" :disabled=\"noSections\">Se ledige seksjoner</button>\n\n        <modal v-show=\"isShowingModal\" @close=\"closeModal\">\n            <template v-slot:header>\n                <h1>Seksjoner</h1>\n            </template>\n\n            <template v-slot:body>\n                <div id=\"fieldbar\">\n                    <div class=\"fields\">\n                        <p>Seksjon navn</p>\n                    </div>\n                    <div class=\"fields\">\n                        <p>Anbefalt kapasitet</p>\n                    </div>\n                </div>\n                <div id=\"allSectionContainer\">\n                    <Section v-for=\"(section,i) in sections\" :key=\"i\" :section=\"section\"\n                    :pos=\"i\"\n                    @selected=\"selectSection\"\n                    :resetCheckMark=\"resetCheckMark\"/>\n                </div>\n                <button class=\"btn reserveSectionBtn\" :class=\"{cantBook: isDisabledCounter}\" :disabled=\"isDisabledCounter\" @click=\"bookSection\">Reserver Seksjon(er)</button>\n            </template>\n        </modal>    \n    </div>\n</template>\n\n<script>\nimport modal from './Modal.vue';\nimport Section from './Section.vue'\nimport createHttp from \"@/services/http\";\nimport { createToast } from 'mosha-vue-toastify';\nimport 'mosha-vue-toastify/dist/style.css'\n\nexport default {\n    components:{\n        modal,\n        Section\n    },\n    props:{\n        room: Object,\n        searchParameters: Object,\n    },\n    computed:{\n        isDisabled(){\n            return this.availableSections < this.room.noOfSections;\n        },\n        isDisabledCounter(){\n            return this.selectedSectionCounter < 1;\n        },\n        availableSections(){\n            return this.room.sections.length;\n        },\n        noSections(){\n            return this.availableSections == 0;\n        }\n    },\n    data(){\n        return{\n            http: createHttp(),\n            isShowingModal:false,\n            selectedSectionCounter:0,\n            subject:0,\n            sections:this.room.sections,\n            isSelectedSection:[],\n            selectedSections:[],\n            resetCheckMark:false,\n        }\n    },\n    watch:{\n        /*\n        Watch when the array with sections change to update\n        'isSelectedSection'. 'isSelectedSection' is an array where each\n        index represents the index in the 'sections' array, to know if\n        a certain section is selected or not. \n        */\n        sections: function(){\n            this.isSelectedSection = [];\n            for (let index = 0; index < this.sections.length; index++) {\n                this.isSelectedSection.push(false);\n            }\n        }\n    },\n    methods:{\n        showModal(){\n            this.isShowingModal = true;\n        },\n        closeModal(){\n            this.isShowingModal = false;\n            this.resetCheckMark = !this.resetCheckMark;\n        },\n        selectSection(...args){\n            const [pos, bool] = args;\n            this.isSelectedSection[pos] = bool;\n            if(bool){\n                this.selectedSectionCounter ++;\n            }else{\n                this.selectedSectionCounter -= 1;\n            }\n        },\n        /**\n         * refresh() is used to trigger the getRooms(). \n         * Used after booking a room/section, to refresh \n         * the curent rooms after change.\n         */\n        refresh(){\n            this.$emit(\"refresh\");\n        },\n        bookEverything(){\n            var message = \"Dato: \" + this.searchParameters.date + \"\\n\"\n            + \"Start: Kl. \" + this.searchParameters.startTime + \"\\n\"\n            + \"Slutt: Kl. \" + this.searchParameters.endTime + \"\\n\" + \"\\n\";\n            message += \"Bekreft reservasjon for hele rom: \" + this.room.name;\n\n            //Requests the user ID before creating a reservation\n            if(confirm(message)){\n                this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/sub\")\n                .then(response => {\n                    this.subject = response.data;\n                    var reservation = {\n                        \"startTime\":this.searchParameters.startTime,\n                        \"endTime\":this.searchParameters.endTime,\n                        \"date\":this.searchParameters.date,\n                        \"sections\":this.room.sections,\n                        \"roomName\": this.room.name\n                    };\n                    this.http.post(process.env.VUE_APP_API_URL + \"/api/v1/reservations/\" + this.subject, reservation)\n                    .then(response => {\n                        createToast('Reservert!',{type:\"success\"});\n                        this.refresh();\n                        return response;\n                    })\n                    .catch(err => {\n                        createToast('Ooops.. Noe gikk galt',{type:\"danger\"});\n                        this.refresh();\n                        return err;\n                    })\n                });\n            }\n        },\n        bookSection(){\n            this.selectedSections = [];\n            for (let index = 0; index < this.isSelectedSection.length; index++) {\n                const bool = this.isSelectedSection[index];\n\n                if(bool){\n                    this.selectedSections.push(this.sections[index]);\n                }\n            }\n\n            var listedSections = \"Dato: \" + this.searchParameters.date + \"\\n\"\n            + \"Start: Kl. \" + this.searchParameters.startTime + \"\\n\"\n            + \"Slutt: Kl. \" + this.searchParameters.endTime + \"\\n\" + \"\\n\";\n            listedSections += \"Bekreft reservasjon av følgende seksjoner:\\n\";\n\n            for (let index = 0; index < this.selectedSections.length; index++) {\n                const section = this.selectedSections[index];\n                listedSections += \"• \" + section.name + \"\\n\";\n            }\n\n\n            if(confirm(listedSections)){\n                //Requests the user ID before creating a reservation\n                this.http.get(process.env.VUE_APP_API_URL + \"/api/v1/sub\")\n                .then(response => {\n                    this.subject = response.data;\n                    var reservation = {\n                        \"startTime\":this.searchParameters.startTime,\n                        \"endTime\":this.searchParameters.endTime,\n                        \"date\":this.searchParameters.date,\n                        \"sections\":this.selectedSections,\n                        \"roomName\": this.room.name\n                    };\n                    this.http.post(process.env.VUE_APP_API_URL + \"/api/v1/reservations/\" + this.subject, reservation)\n                    .then(response => {\n                        this.closeModal();\n                        this.refresh();\n                        createToast('Reservert!',{type:\"success\"});\n                        return response;\n                    })\n                    .catch(err => {\n                       createToast('Ooops.. Noe gikk galt',{type:\"danger\"});\n                       this.closeModal();\n                       this.refresh();\n                       return err;\n                    })\n                });\n            }\n        },\n    }\n\n}\n</script>\n\n<style scoped>\np{\n    display: inline-block;\n}\n#roomContainer{\n    padding-top: 1rem;\n    height: 5rem;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    border-bottom:3px solid #f2f2f2;\n    border-radius: 1px;\n}\n\n#roomName{\n    color: black;\n}\n\n#availablity{\n    font-weight: lighter;\n}\n\n.bookBtn{\n    height: 3rem;\n    background-color: #5ac18e;\n}\n\n#sectionBtn{\n    height: 3rem;\n    margin-left: 3rem;\n}\n\n.reserveSectionBtn{\n    background-color: #5ac18e;\n}\n\n#allSectionContainer{\n    height: 28rem;\n    overflow: scroll;\n}\n\n.circle{\n    width: 0.75rem;\n    height: 0.75rem;\n    background-color: green;\n    border-radius: 10px;\n    display: inline-block;\n    margin-left: 0.8rem;\n}\n\n.noneAvailable{\n    background-color: red;\n}\n\n.cantBook{\n    background-color: #a0a0a0;\n}\n\n.cantBook:hover{\n    cursor: not-allowed;\n}\n\n/* The Modal (background) */\n.modal {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n}\n\n/* Modal Content/Box */\n.modal-content {\n  background-color: #fefefe;\n  margin: 15% auto; /* 15% from the top and centered */\n  padding: 20px;\n  border: 1px solid #888;\n  width: 80%; /* Could be more or less, depending on screen size */\n}\n\n/* The Close Button */\n.close {\n  color: #aaa;\n  float: right;\n  font-size: 28px;\n  font-weight: bold;\n}\n\n.close:hover,\n.close:focus {\n  color: black;\n  text-decoration: none;\n  cursor: pointer;\n}\n</style>"],"sourceRoot":""}]}